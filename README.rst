VISITS
=========


Требования
-----------
* Ubuntu 20.04
* Python 3.8
* FastAPI
* Redis


Предисловие
------------
Разворачивание данного приложения рекомендую делать только в Docker, поэтому настоятельно прошу установить данный инструмент
на свою локальную машину. А также прошу установить Redis. В данной руководстве я буду объяснять весь процесс разворачивания
при помощи Docker, коего будет достаточно, но если вы хотите потыкаться, то как развернуть не при помощи Docker, то вам поможет гугл.

Запуск
---------

Выполните команду:

.. code-block:: bash

    docker-compose --build

Если не желаете видеть вывод работы сервисов в консоль, то можете добавить флаг -d в конец команды, чтобы запустить в detach режиме сборку и подъем сервисов

Документация API
-----------------
По адресу */docs* вы можете посмотреть документацию сервиса. Там будут описаны типы тела запроса и тела ответа, 
необходимые параметры и т.д.

Тестирование
-------------

Тестирование происходит когда мы делаем push ветку master(она одна единственная). 
Все триггеры запуска тестов описаны в файле *.github/workflows/test_on_push.yml* в этой директории. Вы можете посмотреть в разделе Actions.
Для тестирования я использую библиотеку pytest, и если у вас есть желание, то вы можете развернуть redis server на дефолтных 
имени хоста и порту, и после в отдельной консоли выполнить команду: 

.. code-block:: bash
    pytest -v

и тесты должны будут запуститься.





